<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Dart3 on 資深菜鳥 Nick</title><link>https://north13.github.io/categories/dart3/</link><description>Recent content in Dart3 on 資深菜鳥 Nick</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 12 May 2025 10:39:45 +0800</lastBuildDate><atom:link href="https://north13.github.io/categories/dart3/index.xml" rel="self" type="application/rss+xml"/><item><title>Record 是什麼？</title><link>https://north13.github.io/post/record%E6%98%AF%E4%BB%80%E9%BA%BC/</link><pubDate>Mon, 12 May 2025 10:39:45 +0800</pubDate><guid>https://north13.github.io/post/record%E6%98%AF%E4%BB%80%E9%BA%BC/</guid><description>&lt;h3 id="什麼是-record">什麼是 Record？&lt;/h3>
&lt;p>&lt;strong>Record&lt;/strong> 是一種新的資料類型，用來表示一組有序的值集合，包含具名或未具名欄位。可以想像成是不需要先定義一個 &lt;strong>class&lt;/strong> 的 &lt;strong>「輕量級的物件」&lt;/strong> 。&lt;/p>
&lt;h5 id="不具名-record">&lt;code>不具名&lt;/code> Record&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dart" data-lang="dart">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> record &lt;span style="color:#f92672">=&lt;/span> (&lt;span style="color:#e6db74">&amp;#39;Nick&amp;#39;&lt;/span>, &lt;span style="color:#ae81ff">35&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>print(record.$1); &lt;span style="color:#75715e">// Nick
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>print(record.$2); &lt;span style="color:#75715e">// 35
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="具名-record">&lt;code>具名&lt;/code> Record&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dart" data-lang="dart">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> record &lt;span style="color:#f92672">=&lt;/span> (name: &lt;span style="color:#e6db74">&amp;#39;Nick&amp;#39;&lt;/span>, age: &lt;span style="color:#ae81ff">35&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>print(record.name); &lt;span style="color:#75715e">// Nick
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>print(record.age); &lt;span style="color:#75715e">// 35
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="混合型-record">&lt;code>混合型&lt;/code> Record&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dart" data-lang="dart">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> record &lt;span style="color:#f92672">=&lt;/span> (&lt;span style="color:#e6db74">&amp;#39;Nick&amp;#39;&lt;/span>, age: &lt;span style="color:#ae81ff">35&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>print(record.$1); &lt;span style="color:#75715e">// Nick
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>print(record.age); &lt;span style="color:#75715e">// 35
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h3 id="為什麼有-record">為什麼有 Record？&lt;/h3>
&lt;p>如果 &lt;strong>Dart&lt;/strong> 函數要回傳多個值，通常要用 &lt;strong>class&lt;/strong> 或 &lt;strong>Map&lt;/strong>，但這樣太冗長或效能不佳。而 &lt;strong>Record&lt;/strong> 的應用有&lt;/p>
&lt;ul>
&lt;li>更簡潔的語法&lt;/li>
&lt;li>更好的編譯期型別檢查&lt;/li>
&lt;li>更快的效能（比 Map 好）&lt;/li>
&lt;/ul>
&lt;h4 id="-使用-map-不建議">❌ 使用 Map (不建議)&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dart" data-lang="dart">&lt;span style="display:flex;">&lt;span>Map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">String&lt;/span>, &lt;span style="color:#66d9ef">dynamic&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> getUser() &lt;span style="color:#f92672">=&amp;gt;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;name&amp;#39;&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Nick&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;age&amp;#39;&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#ae81ff">35&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#39;isMember&amp;#39;&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> user &lt;span style="color:#f92672">=&lt;/span> getUser();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>print(user[&lt;span style="color:#e6db74">&amp;#39;nameee&amp;#39;&lt;/span>]); &lt;span style="color:#75715e">// ❌ 錯字或 key 不存在不會報錯
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="-使用-class-不建議">❌ 使用 Class (不建議)&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dart" data-lang="dart">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">User&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">final&lt;/span> &lt;span style="color:#66d9ef">String&lt;/span> name;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">final&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> age;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">final&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> isMember;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> User(&lt;span style="color:#66d9ef">this&lt;/span>.name, &lt;span style="color:#66d9ef">this&lt;/span>.age, &lt;span style="color:#66d9ef">this&lt;/span>.isMember);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="-使用-record-建議">⭕️ 使用 Record (建議)&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-dart" data-lang="dart">&lt;span style="display:flex;">&lt;span>({&lt;span style="color:#66d9ef">String&lt;/span> name, &lt;span style="color:#66d9ef">int&lt;/span> age, &lt;span style="color:#66d9ef">bool&lt;/span> isMember}) user &lt;span style="color:#f92672">=&lt;/span> (name: &lt;span style="color:#e6db74">&amp;#39;Nick&amp;#39;&lt;/span>, age: &lt;span style="color:#ae81ff">35&lt;/span>, isMember: &lt;span style="color:#66d9ef">true&lt;/span>);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;table>
 &lt;thead>
 &lt;tr>
 &lt;th>&lt;/th>
 &lt;th>&lt;/th>
 &lt;/tr>
 &lt;/thead>
 &lt;tbody>
 &lt;tr>
 &lt;td>&lt;/td>
 &lt;td>&lt;/td>
 &lt;/tr>
 &lt;/tbody>
&lt;/table>
&lt;h3 id="模式匹配pattern-matching">模式匹配（pattern matching）&lt;/h3>
&lt;p>它讓你像在 &lt;strong>「解構資料」&lt;/strong> 一樣地做條件判斷或資料抽取。類似你在 &lt;strong>JavaScript&lt;/strong> 用 &lt;code>const { name } = user&lt;/code>&lt;/p></description></item></channel></rss>